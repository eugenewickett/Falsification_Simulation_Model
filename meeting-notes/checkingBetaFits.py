# -*- coding: utf-8 -*-
"""
Created on Thu Sep 10 12:12:10 2020

@author: eugen
"""
import numpy as np
import random
from scipy.stats import beta
import Falsification_Sim_Modules as simModules
for i in range(10):
    data=simModules.invlogit(estFalsePerc_LklhdSamples[:,i])
    a1, b1, loc1, scale1 = beta.fit(data, floc=0, fscale=1) # (CHANGE TO CAUCHY?)
    x = np.linspace(0,1,100)
    fitted_data = beta.pdf(x, a=a1,b=b1)
    plt.hist(data, density=True)
    plt.plot(x,fitted_data,'r-')
    currThreshCDF = beta.cdf(0.175,a=a1,b=b1)
    print(1/(max(abs(currThreshCDF - 0.5)**4,1e-3)))
print(intSFVec)

'''
0.6 THRESHOLD
[0.1, 0.9, 0.25, 0.5, 0.5, 0.25, 0.1, 0.1, 0.1, 0.1]
find_reasonable_epsilon= 0.16666666666666666
[0.07634728 0.30660679 0.07634686 0.07634603 0.08261094 0.07634615
 0.07634606 0.07634603 0.07635782 0.07634603]
Rep 1, Day 200 finished.
find_reasonable_epsilon= 0.16666666666666666
[0.09965408 0.09965408 0.09965408 0.09981035 0.10295698 0.09965408
 0.09965408 0.09965413 0.09965408 0.09965408]
Rep 1, Day 400 finished.
16.000000000000014
16.000000000115058
16.00000000111075
16.366435126927836
17.837134635852056
16.000000000096733
16.000000000000014
16.0000000001058
16.000000000002927
16.000000000000043
[0.1, 0.9, 0.25, 0.5, 0.5, 0.25, 0.1, 0.1, 0.1, 0.1]

0.175 THRESHOLD
[0.5, 0.75, 0.25, 0.1, 0.0, 0.75, 0.5, 0.5, 0.5, 0.0]
find_reasonable_epsilon= 0.1111111111111111
[0.05877676 0.05877676 0.3713167  0.09409167 0.10981468 0.05877677
 0.05905698 0.05877676 0.05877677 0.07183616]
Rep 1, Day 200 finished.
find_reasonable_epsilon= 0.1111111111111111
[0.05676476 0.05676476 0.28363845 0.24051616 0.06561866 0.05676476
 0.05676797 0.05676476 0.05676477 0.06963496]
Rep 1, Day 400 finished.
16.00000000000656
16.0
16.0
23.612711198340342
17.23242034989197
16.0
16.038681757997985
16.0
16.000000029348172
17.15709232224069
[0.5, 0.75, 0.25, 0.1, 0.0, 0.75, 0.5, 0.5, 0.5, 0.0]

0.5 THRESHOLD
[0.1, 0.25, 0.75, 0.9, 0.9, 0.5, 0.1, 0.5, 0.25, 0.1]
find_reasonable_epsilon= 0.1111111111111111
[0.06248047 0.1754366  0.1754366  0.06486283 0.06242593 0.08064668
 0.0809894  0.14756788 0.08772661 0.06242701]
Rep 1, Day 200 finished.
find_reasonable_epsilon= 0.07407407407407407
[0.01406446 0.01405629 0.01405437 0.01405467 0.01405474 0.87302956
 0.01405469 0.01452209 0.01405463 0.0140545 ]
Rep 1, Day 400 finished.
16.007796356529024
16.00032194563046
16.0000000010549
16.018898128012225
16.00003031711575
16.0
16.001262015439874
16.952774783747625
16.00008294859698
16.000081467710963
[0.1, 0.25, 0.75, 0.9, 0.9, 0.5, 0.1, 0.5, 0.25, 0.1]
'''










